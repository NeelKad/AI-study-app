<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up - AI Study App</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <!-- Animated Background Elements -->
    <div style="position: fixed; top: 20%; right: 10%; width: 250px; height: 250px; background: radial-gradient(circle, rgba(99, 102, 241, 0.12) 0%, transparent 70%); border-radius: 50%; animation: floatReverse 7s ease-in-out infinite; z-index: -1;"></div>
    <div style="position: fixed; bottom: 20%; left: 15%; width: 180px; height: 180px; background: radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, transparent 70%); border-radius: 50%; animation: float 5s ease-in-out infinite; z-index: -1;"></div>
    
    <!-- Navigation Header -->
    <header>
      <nav class="navbar" style="backdrop-filter: blur(20px); background: rgba(30, 41, 59, 0.95);">
        <div style="display: flex; align-items: center; justify-content: center; width: 100%; max-width: 1200px; margin: 0 auto;">
          <a href="{{ url_for('login') }}" class="nav-logo" style="font-size: 1.75rem; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            ✨ AI Study App
          </a>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main style="padding: 3rem 2rem; max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 120px);">
      <div style="max-width: 520px; width: 100%;">
        <!-- Welcome Section with Enhanced Graphics -->
        <div style="text-align: center; margin-bottom: 3rem;">
          <div style="margin-bottom: 1rem;">
            <div style="width: 100px; height: 100px; margin: 0 auto 1.5rem; background: var(--gradient-secondary); border-radius: 25px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; box-shadow: var(--shadow-xl), 0 0 30px rgba(236, 72, 153, 0.3); animation: bounceIn 1s ease-out;">
              🌟
            </div>
            <h1 style="margin-bottom: 0.75rem; font-size: 2.75rem; background: var(--gradient-secondary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800;">
              Join AI Study App
            </h1>
            <p style="color: var(--text-secondary); font-size: 1.125rem; margin: 0; font-weight: 500;">
              Unlock <span style="color: var(--accent); font-weight: 700;">super-powered learning</span> with AI
            </p>
          </div>
        </div>

        <!-- Sign Up Card with Premium Styling -->
        <div class="card" style="padding: 3.5rem; border: 1px solid var(--border); box-shadow: var(--shadow-xl), 0 0 50px rgba(139, 92, 246, 0.15); position: relative; overflow: hidden; background: var(--gradient-card);">
          <!-- Decorative Elements -->
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: var(--gradient-secondary);"></div>
          <div style="position: absolute; top: -50%; right: -50%; width: 200px; height: 200px; background: radial-gradient(circle, rgba(236, 72, 153, 0.05) 0%, transparent 70%); border-radius: 50%;"></div>
          
          <!-- Flash Messages -->
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              <div style="margin-bottom: 2.5rem;">
                {% for category, message in messages %}
                <div style="
                  background: {% if category == 'error' %}linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1)){% else %}linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.1)){% endif %};
                  color: {% if category == 'error' %}#FCA5A5{% else %}#6EE7B7{% endif %};
                  padding: 1.25rem 1.75rem;
                  border-radius: 15px;
                  border: 1px solid {% if category == 'error' %}rgba(239, 68, 68, 0.4){% else %}rgba(16, 185, 129, 0.4){% endif %};
                  margin-bottom: 1rem;
                  font-weight: 600;
                  font-size: 0.9375rem;
                  text-align: center;
                  box-shadow: var(--shadow-md);
                  animation: slideInLeft 0.6s ease-out;
                  position: relative;
                ">
                  <div style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); font-size: 1.25rem;">
                    {% if category == 'error' %}⚠️{% else %}🎉{% endif %}
                  </div>
                  <div style="margin-left: 2rem;">{{ message }}</div>
                </div>
                {% endfor %}
              </div>
            {% endif %}
          {% endwith %}

          <form method="POST" action="{{ url_for('signup') }}" style="width: 100%; position: relative; z-index: 2;">
            <div style="margin-bottom: 2rem;">
              <label style="display: block; margin-bottom: 0.75rem; font-weight: 700; color: var(--text-primary); font-size: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                <span style="color: var(--accent);">📧</span> Email Address
              </label>
              <div style="position: relative; group;">
                <input
                  type="email"
                  name="email"
                  placeholder="Enter your email address"
                  required
                  autofocus
                  autocomplete="email"
                  style="
                    margin-bottom: 0; 
                    padding-left: 3.5rem; 
                    font-size: 1rem; 
                    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
                    border: 2px solid var(--border);
                    background: var(--bg-input);
                  "
                  onfocus="this.style.borderColor='var(--accent)'; this.style.boxShadow='0 0 0 3px rgba(236, 72, 153, 0.2)'; this.style.transform='translateY(-3px)'; this.style.background='var(--bg-elevated)';"
                  onblur="this.style.borderColor='var(--border)'; this.style.boxShadow='var(--shadow-xs)'; this.style.transform='translateY(0)'; this.style.background='var(--bg-input)';"
                />
                <div style="position: absolute; left: 1.25rem; top: 50%; transform: translateY(-50%); color: var(--text-muted); font-size: 1.25rem; transition: all 0.3s ease;">📧</div>
              </div>
            </div>

            <div style="margin-bottom: 2rem;">
              <label style="display: block; margin-bottom: 0.75rem; font-weight: 700; color: var(--text-primary); font-size: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                <span style="color: var(--accent);">🔐</span> Password
              </label>
              <div style="position: relative;">
                <input
                  type="password"
                  name="password"
                  placeholder="Create a strong password"
                  required
                  autocomplete="new-password"
                  style="
                    margin-bottom: 0; 
                    padding-left: 3.5rem; 
                    font-size: 1rem; 
                    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
                    border: 2px solid var(--border);
                    background: var(--bg-input);
                  "
                  onfocus="this.style.borderColor='var(--accent)'; this.style.boxShadow='0 0 0 3px rgba(236, 72, 153, 0.2)'; this.style.transform='translateY(-3px)'; this.style.background='var(--bg-elevated)';"
                  onblur="this.style.borderColor='var(--border)'; this.style.boxShadow='var(--shadow-xs)'; this.style.transform='translateY(0)'; this.style.background='var(--bg-input)';"
                />
                <div style="position: absolute; left: 1.25rem; top: 50%; transform: translateY(-50%); color: var(--text-muted); font-size: 1.25rem;">🔐</div>
              </div>
              <div style="margin-top: 0.75rem; padding: 1rem; background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05)); border-radius: 12px; border: 1px solid rgba(99, 102, 241, 0.2);">
                <p style="font-size: 0.8125rem; color: var(--text-secondary); margin: 0; display: flex; align-items: center; gap: 0.5rem;">
                  <span style="color: var(--info);">💡</span>
                  <span>Use 8+ characters with numbers and symbols for maximum security</span>
                </p>
              </div>
            </div>

            <button type="submit" style="
              width: 100%; 
              margin-bottom: 2.5rem; 
              font-size: 1.125rem; 
              font-weight: 700; 
              padding: 1.375rem 2rem; 
              background: var(--gradient-secondary); 
              position: relative; 
              overflow: hidden;
              text-transform: uppercase;
              letter-spacing: 0.75px;
              box-shadow: var(--shadow-lg), 0 0 25px rgba(236, 72, 153, 0.3);
            ">
              <span style="position: relative; z-index: 2; display: flex; align-items: center; justify-content: center; gap: 0.75rem;">
                🚀 Create Account & Start Learning
              </span>
            </button>
          </form>

          <!-- Login Link with Premium Design -->
          <div style="text-align: center; padding-top: 2rem; border-top: 1px solid var(--border); position: relative;">
            <p style="margin: 0 0 1.25rem 0; color: var(--text-secondary); font-size: 0.9375rem;">
              Already part of the community?
            </p>
            <a
              href="{{ url_for('login') }}"
              style="
                display: inline-flex;
                align-items: center;
                gap: 0.75rem;
                color: var(--primary-light); 
                font-weight: 700; 
                text-decoration: none; 
                padding: 1rem 2rem;
                border: 2px solid var(--primary);
                border-radius: 15px;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                background: transparent;
                font-size: 0.9375rem;
                position: relative;
                overflow: hidden;
              "
              onmouseover="this.style.background='var(--gradient-primary)'; this.style.color='white'; this.style.transform='translateY(-3px)'; this.style.boxShadow='var(--shadow-lg), var(--shadow-glow)';"
              onmouseout="this.style.background='transparent'; this.style.color='var(--primary-light)'; this.style.transform='translateY(0)'; this.style.boxShadow='none';"
            >
              <span style="font-size: 1.125rem;">🎯</span>
              Sign In to Your Account
            </a>
          </div>
        </div>

        <!-- Enhanced Features Preview -->
        <div style="margin-top: 4rem;">
          <div style="text-align: center; margin-bottom: 2rem;">
            <h3 style="color: var(--text-primary); font-size: 1.25rem; font-weight: 700; margin: 0 0 0.5rem 0;">
              What awaits you inside? 
            </h3>
            <p style="color: var(--text-secondary); font-size: 0.9375rem; margin: 0;">
              Unlock these powerful AI study tools
            </p>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem;">
            <div style="padding: 1.5rem; background: var(--bg-elevated); border-radius: 16px; border: 1px solid var(--border); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--primary)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'; this.style.borderColor='var(--border)';">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">🃏</div>
              <div style="font-size: 0.875rem; color: var(--text-primary); font-weight: 700; margin-bottom: 0.25rem;">Smart Flashcards</div>
              <div style="font-size: 0.75rem; color: var(--text-muted);">AI-generated study cards</div>
            </div>
            
            <div style="padding: 1.5rem; background: var(--bg-elevated); border-radius: 16px; border: 1px solid var(--border); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--accent)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'; this.style.borderColor='var(--border)';">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">🤖</div>
              <div style="font-size: 0.875rem; color: var(--text-primary); font-weight: 700; margin-bottom: 0.25rem;">AI Tutor</div>
              <div style="font-size: 0.75rem; color: var(--text-muted);">Personal study assistant</div>
            </div>
            
            <div style="padding: 1.5rem; background: var(--bg-elevated); border-radius: 16px; border: 1px solid var(--border); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--secondary)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'; this.style.borderColor='var(--border)';">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">📊</div>
              <div style="font-size: 0.875rem; color: var(--text-primary); font-weight: 700; margin-bottom: 0.25rem;">Smart Analysis</div>
              <div style="font-size: 0.75rem; color: var(--text-muted);">Performance insights</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <style>
      @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.8; }
        50% { transform: translateY(-25px) rotate(3deg); opacity: 1; }
      }
      
      @keyframes floatReverse {
        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
        50% { transform: translateY(20px) rotate(-2deg); opacity: 1; }
      }
      
      @keyframes slideInLeft {
        from { opacity: 0; transform: translateX(-50px); }
        to { opacity: 1; transform: translateX(0); }
      }
      
      @keyframes bounceIn {
        0% { opacity: 0; transform: scale(0.3); }
        50% { opacity: 1; transform: scale(1.1); }
        100% { opacity: 1; transform: scale(1); }